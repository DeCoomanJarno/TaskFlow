<h2 mat-dialog-title>{{ isEditMode ? 'Edit Project' : 'Create New Project' }}</h2>
    
    <mat-dialog-content>
      <form [formGroup]="projectForm" class="project-form">
        <mat-form-field appearance="outline">
          <mat-label>Project Name</mat-label>
          <input matInput formControlName="name" placeholder="Enter project name" required>
          @if (projectForm.get('name')?.hasError('required') && projectForm.get('name')?.touched) {
            <mat-error>Project name is required</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Description</mat-label>
          <textarea 
            matInput 
            formControlName="description" 
            placeholder="Enter project description"
            rows="3"></textarea>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Identifier</mat-label>
          <input matInput formControlName="identifier" placeholder="e.g., PROJ-001">
        </mat-form-field>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Start Date</mat-label>
            <input matInput [matDatepicker]="startPicker" formControlName="start_date">
            <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>End Date</mat-label>
            <input matInput [matDatepicker]="endPicker" formControlName="end_date">
            <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" placeholder="project@example.com">
          @if (projectForm.get('email')?.hasError('email') && projectForm.get('email')?.touched) {
            <mat-error>Please enter a valid email</mat-error>
          }
        </mat-form-field>

        <div class="priority-section">
          <h3>Priority Settings</h3>
          <div class="form-row">
            <mat-form-field appearance="outline">
              <mat-label>Default Priority</mat-label>
              <input matInput type="number" formControlName="priority_default" min="0" max="10">
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Priority Range Start</mat-label>
              <input matInput type="number" formControlName="priority_start" min="0" max="10">
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Priority Range End</mat-label>
              <input matInput type="number" formControlName="priority_end" min="0" max="10">
            </mat-form-field>
          </div>
        </div>

        <mat-slide-toggle formControlName="is_active" color="primary">
          Project is active
        </mat-slide-toggle>
      </form>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-button (click)="onCancel()">Cancel</button>
      <button 
        mat-raised-button 
        color="primary" 
        (click)="onSave()"
        [disabled]="!projectForm.valid">
        {{ isEditMode ? 'Update' : 'Create' }}
      </button>
    </mat-dialog-actions>